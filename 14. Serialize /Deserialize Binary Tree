class TreeNode:
    def __init__(self,val):
        self.val=val
        self.left=None
        self.right=None

def serialize(root):
    res=[]
    def dfs(node):
        if not node: res.append('#'); return
        res.append(str(node.val))
        dfs(node.left); dfs(node.right)
    dfs(root)
    return ','.join(res)

def deserialize(data):
    vals=iter(data.split(','))
    def dfs():
        val=next(vals)
        if val=='#': return None
        node=TreeNode(int(val))
        node.left=dfs()
        node.right=dfs()
        return node
    return dfs()

root=TreeNode(1)
root.left=TreeNode(2)
root.right=TreeNode(3)
print(serialize(root))
